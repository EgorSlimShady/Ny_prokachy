<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ну, прокачу!</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="main.js" type="text/javascript"></script>

    <!-- Стиль аккордеона -->
    <style>
        .accordion {
            text-decoration: underline;
            cursor: pointer;
            font-size: 15px;
            color: blue;
        }
        
        .active, .accordion:hover {
            color: purple; 
        }
        
        .panel {
            /* padding: 0 18px; */
            display: none;
            background-color: transparent;
            overflow: hidden;
        }
    </style>

    <!-- Стиль кнопки вверх -->
    <style>
    .topbtn {
      position: fixed;
      right: 45px;
      bottom: 45px;
      text-decoration: none;
      font-size: 24px;
     }
    </style>

    <!-- Элементы в одну строку -->
    <style>
        .div1 { display: inline-block; }
    </style>

    <!-- Стиль кнопки вверх -->
    <style>
        .page-up-transparent {
        filter: alpha(Opacity=50);
        opacity: 0.5;
        width: 45px;
        height: 45px;
        }
    </style>

</head>
<body>
    <div class="container mt-5 pt-5 pb-5">
        <div class="col-md-6 offset-md-3">
            <form id="np">
                <div class="form-group">
                    <label class="form-label">Фамилия</label>
                    <input type="text" name="surname" class="form-control" required>
                </div>
                <!-- /.surname -->

                <div class="form-group">
                    <label class="form-label">Имя</label>
                    <input type="text" name="name" class="form-control" required>
                </div>
                <!-- /.name -->

                <div class="form-group">
                    <label class="form-label">Отчество</label>
                    <input type="text" name="fathername" class="form-control" required>
                </div>
                <!-- /.fathername -->

                <div class="form-group">
                    <label class="form-label">Телефон</label>
                    <input type="tel" name="tel" class="form-control maska_tel" required>
                </div>
                <!-- /.tel -->
    
                <div id="success" class="alert alert-success mt-3" role="alert" style="display: none; border-radius: 0.25;"></div>
                <!-- Уведомление об успехе -->

                <div class="form-check form-switch mt-4 div1">
                    <input class="form-check-input" type="checkbox" id="chbx" required>
                    <label class="form-check-label">Принимаю условия</label>
                </div>    
                <!-- /.checkbox -->

                <href class="accordion div1" title="Развернуть текст оферты">оферты</href>
                <!-- Ссылка аккордиона -->

                    <div class="panel mt-4">
                        <p align="center">
<strong>2. Предмет Договора</strong>
<br><br>
2.1. Лицензия
<br>
                        </p>
                        <p align="justify">
2.1.1. По Договору Правообладатель предоставляет Пользователю на срок действия настоящего Договора право использования Мобильного приложения Whoosh (как оно определено в п. 1.12 настоящего Договора), в пределах, установленных Договором, а Пользователь обязуется выплачивать Правообладателю вознаграждение за предоставленное право в соответствии с условиями Договора.
<br><br>
2.1.2. Мобильное приложение может быть использовано Пользователем исключительно в соответствии со своим назначением и функциональными возможностями в рамках Платформы микромобильности Whoosh на территории действия исключительного права на Мобильное приложение. При этом функциональные возможности Мобильного приложения могут различаться в зависимости от конкретной территории его использования.
<br><br>
2.1.3 Пользователь в соответствии с Договором приобретает право использования Мобильного приложения на территории и способами, указанными в настоящей Оферте, на условиях неисключительной лицензии с сохранением за Правообладателем права использования Мобильного приложения, в т.ч. выдачи лицензий другим лицам.
<br><br>
2.1.4 Исключительное право на Мобильное приложение принадлежит Правообладателю.
<br><br>
2.1.5 Пользователь не вправе заключать сублицензионные договоры в отношении Мобильного приложения либо иным образом передавать право использования Мобильного приложения третьим лицам.
<br><br>
2.1.6 Для целей использования Мобильного приложения в соответствии с Договором Пользователь вправе осуществлять установку Мобильного приложения на неограниченное число мобильных устройств.
<br><br>
2.1.7 Пользователь не вправе осуществлять декомпиляцию Мобильного приложения и внесение изменений в исходный код Мобильного приложения, а также воспроизводить, копировать, распространять Мобильное приложение и/или использовать Мобильное приложение любыми иными способами, не предусмотренными настоящим Договором.
<br><br>
2.2. Аренда
<br><br>
2.2.1. По Договору Правообладатель передает во временное владение и пользование Пользователю Электросамокат, а Пользователь принимает Электросамокат для использования в потребительских целях (для личных нужд), не связанных с осуществлением предпринимательской деятельности. Передача Электросамоката Пользователю в Аренду осуществляется посредством использования Пользователем функционала Мобильного приложения в порядке, предусмотренном настоящей Офертой.
<br><br>
2.2.2. Пользователь вправе использовать Электросамокат только в пределах Зоны поездок. За пределами указанной территории пользование Электросамоката не допускается и без дополнительного предупреждения со стороны Правообладателя блокируется с помощью функционала Платформы микромобильности Whoosh.
<br><br>
3. Условия и порядок заключения Договора
<br><br>
3.1. Акцепт Оферты совершается Пользователем в электронной форме в порядке, установленном настоящим разделом Оферты, и влечет заключение Договора между Пользователем и Правообладателем.
<br><br>
3.2. Договор заключается путем присоединения Пользователя к установленным Договором условиям в целом, без каких-либо условий и оговорок. Акцепт настоящей Оферты означает, что Пользователь ознакомился со всеми положениями Договора, согласен с ними и принимает на себя безоговорочное согласие следовать им.
<br><br>
3.3. Акцепт настоящей Оферты осуществляется Пользователем путем выполнения им следующей совокупности действий:
<br><br>
3.3.1. Заполнение Пользователем полей с предоставлением информации, необходимой для регистрации Пользователя в Мобильном приложении согласно функционалу Мобильного приложения;
<br><br>
3.3.2. Проставление отметки (“галочки”) в соответствующем поле, выражающее согласие с условиями настоящего Договора. При этом проставляя соответствующую отметку, как указано выше, Пользователь подтверждает, что ознакомлен в полном объеме с условиями настоящей Оферты и подтверждает свое согласие на заключение Договора.
<br><br>
3.3.3. Регистрация Пользователя в Мобильном приложении путем нажатия соответствующей кнопки (кнопка «зарегистрироваться», «ок» или кнопка с любым иным текстовым обозначением, функционально обеспечивающая регистрацию Пользователя в Мобильном приложении).
3.3.3.1. Нажатие кнопки “Войти через Apple”/”Войти через Google”. .
<br><br>
3.3.4. В целях использования полного функционала Мобильного приложения, включая Аренду СИМ, Пользователь в разделе «Оплата» выбирает способ оплаты и указывает данные своей банковской карты. В целях подтверждения верности введения данных банковской карты на на указанной карте блокируется сумма в размере до 11 (одиннадцати) рублей. Успешная блокировка вышеуказанных денежных средств Правообладателем является одним из условий Акцепта настоящей Оферты. Данная денежная сумма не засчитывается в качестве оплаты лицензионного вознаграждения и/или арендной платы по Договору и разблокируется в течение суток.
<br><br>
3.4. Правообладатель не несет ответственности за случаи, когда Оферта не была акцептована и Договор не был заключен по причине невозможности обработки предоставленных Пользователем сведений и информации по техническим причинам.
<br><br>
3.5. Посредством акцепта настоящей Оферты Пользователь подтверждает, что любые действия, осуществляемые в Мобильном приложении под его учетной записью, совершены лично Пользователем. Все риски, связанные с несанкционированным использованием учетной записи или мобильного устройства Пользователя, лежат на Пользователе.
<br><br>
3.6. Лицо, акцептующее Оферту, должно соответствовать критериям, указанным в пункте 1.18 настоящей Оферты. В случае если Правообладателем будет установлено, что лицо, акцептующее (акцептовавшее) Оферту, не соответствует таким критериям, наступает одно из нижеуказанных правовых последствий:
если на момент установления соответствующего обстоятельства Договор с соответствующим лицом не был заключен - Акцепт Оферты будет считаться несовершённым, а Договор – незаключённым, доступ к Мобильному приложению Пользователю не предоставляется;
если на момент установления соответствующего обстоятельства Договор с соответствующим лицом был заключен - Правообладатель вправе незамедлительно прекратить доступ соответствующего лица к Мобильному приложению (в том числе путем блокировки аккаунта (личного кабинета Пользователя) и/или отказаться от исполнения Договора в одностороннем порядке.
<br><br>
3.7. В случае возникновения у Правообладателя сомнений в достоверности указанных Пользователем при регистрации данных, данных банковской карты, принадлежности банковской карты Пользователю, а также в соответствии лица, зарегистрировавшегося в Мобильном приложении, критериям, указанным в пункте 1.17 настоящей Оферты, Правообладатель вправе через Мобильное приложение или иным способом направить запрос о предоставлении дополнительной информации о личности Пользователя, в том числе, фотографий страниц его паспорта, или иного документа, удостоверяющего личность, фотографий лицевой стороны банковской карты (без CVV/CVC).
<br><br>
3.8. Пользователь обязан предоставить Правообладателю информацию, запрошенную последним в соответствии с пунктом 3.7 Оферты. До предоставления Пользователем соответствующей информации в объеме, достаточном для устранения сомнений Правообладателя:
если Договор с Пользователем в соответствии с настоящим разделом 3 не был заключен, Акцепт не может считаться совершенным Пользователем, а Договор – заключенным. Доступ к Мобильному приложению лицу, акцептующему Оферту, не предоставляется;
если Договор с Пользователем был заключен – Правообладатель вправе приостановить доступ Пользователя к Мобильному приложению (в том числе путем блокировки аккаунта Пользователя). После предоставления Пользователем всех необходимых документов доступ Пользователя к Мобильному приложению восстанавливается Правообладателем.
                        </p>
                    </div>
                    <!-- Панель с офертой -->
                
                <!-- this -->
                 <div>   
                    <button type="submit" id="btn" class="btn btn-primary mt-4" disabled>Поехали!</button>
                </div>

                <br><br>
                <a href="index2.html">Index2</a>
                <br><br>
                

                <a href="#" title="Катимся в топ" class="topbtn"><img src="arrow-up-circle-fill.svg" class="page-up-transparent"/></a>

            </form>
        </div>
        <!-- /.col-md-6 offset-md-3 -->
    </div>
    <!-- /.container -->

    <!-- Script accordion -->
    <script>
        var acc = document.getElementsByClassName("accordion");
        var i;
        
        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.display == "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }
    </script>


    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>

    <!--Скрипт для отправки в телеграм-->
    <script>
        const TOKEN = "6053368284:AAEI46UybhGjc0_--nO5Sf7bZQwb6aDltLs";
        const CHAT_ID = "-1001918851256";
        const URL_API = `https://api.telegram.org/bot${ TOKEN }/sendDocument`;
        const success = document.getElementById('success');
        let message = "";

        document.getElementById('np').addEventListener('submit', function(e) {
            e.preventDefault();

            const formData = new FormData();
            formData.append('chat_id', CHAT_ID);
            formData.append('doc', this.document.files[0]);

            // message += `Оферта с сайта!\n`;
            message += `Фамилия: ${ this.surname.value }\n`;
            message += `Имя: ${ this.name.value }\n`;
            message += `Отчество: ${ this.fathername.value }\n`;
            message += `Телефон: ${ this.tel.value }`;
            

            formData.append('caption', message);
            
            axios.post(URL_API,
            formData, {
                        headers: {'Content-Type': 'multipart/form-data'}
                      })
            // {
                // chat_id: CHAT_ID,
                // parse_mode: 'html',
                // text: message
            // })
            .then((res) =>
            {
                this.surname.value = "";
                this.name.value = "";
                this.fathername.value = "";
                this.tel.value = "";
                this.chbx.checked = false;
                this.btn.disabled = true;
                success.innerHTML = "Активация прошла успешно!";
                success.style.display = "block";
                setTimeout(function()
                    {
	                    success.style.display = 'none';
                    }, 3500);
            })
            .catch((err) =>
            {
                console.log(err);
            })
            .finally(() =>
            {
                console.log('END!');
            })
        })
    </script>

    <!--Активация кнопки-->
    <script>
        document.getElementById('chbx').addEventListener('change', function (e) {
        document.getElementById('btn').disabled = !e.target.checked
        })
    </script>

    <!--Маска для телефона-->
    <script>
    $('.maska_tel').mask('+7 (999) 999-99-99');
    
    $.fn.setCursorPosition = function(pos) {
      if ($(this).get(0).setSelectionRange) {
        $(this).get(0).setSelectionRange(pos, pos);
      } else if ($(this).get(0).createTextRange) {
        var range = $(this).get(0).createTextRange();
        range.collapse(true);
        range.moveEnd('character', pos);
        range.moveStart('character', pos);
        range.select();
      }
    };
    
    $('input[type="tel"]').click(function(){
        $(this).setCursorPosition(4);
      });
    </script>
</body>
</html>